"use strict";(self.webpackChunkps_assignment=self.webpackChunkps_assignment||[]).push([[297],{297:(_,d,o)=>{o.r(d),o.d(d,{FourthRouteModule:()=>x});var h=o(8583),t=o(639),g=o(6215);let m=(()=>{class r{constructor(){this.sendTimerCondn=new g.X(""),this.getTimerCondn$=this.sendTimerCondn.asObservable(),this.sendTimer=new g.X(null),this.getTimer$=this.sendTimer.asObservable()}setTimerCondn(e){this.sendTimerCondn.next(e)}setTimer(e){this.sendTimer.next(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),f=(()=>{class r{constructor(e){this.exporterService=e}ngOnInit(){this.exporterService.getTimer$.subscribe(e=>{this.initiateTime=e})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-timer"]],decls:2,vars:1,template:function(e,i){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu(i.initiateTime))},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-top:10%;font-size:58px}"]}),r})();var s=o(665);function T(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" paused at : ",e," ")}}let v=(()=>{class r{constructor(e){this.exporterService=e,this.timeEmmiter=new t.vpe,this.timerState=new t.vpe,this.currentState="pause",this.isPuased=!1,this.firstTimeTimerStart=!0,this.pauseAt=[]}ngOnInit(){this.setForm()}setForm(){this.deviceForm=new s.cw({initialTime:new s.NI("")})}btnHandler(e){const i=this.deviceForm.controls.initialTime.value;return!i||i<=0?alert("please enter the valid number"):isNaN(i)?alert("Only numbers are allowed"):void("reset"===e?(this.currentState="pause",this.firstTimeTimerStart=!0,this.timer=this.deviceForm.controls.initialTime.value,clearInterval(this.timer),this.isPuased=!0,this.exporterService.setTimer(this.timer)):(this.currentState="start"===this.currentState?"pause":"start",this.timerState.emit(this.currentState),this.exporterService.setTimerCondn(this.currentState),this.callTimer()))}callTimer(){if("start"===this.currentState&&this.firstTimeTimerStart){this.timer=this.deviceForm.controls.initialTime.value,this.firstTimeTimerStart=!1;const e=setInterval(()=>{if(!this.isPuased){if(0===this.timer)return void clearInterval(e);this.timer--}this.exporterService.setTimer(this.timer)},1e3)}"pause"===this.currentState&&(this.isPuased=!0,this.pauseAt.push(this.timer)),"start"===this.currentState&&(this.isPuased=!1)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-data"]],outputs:{timeEmmiter:"timeEmmiter",timerState:"timerState"},decls:10,vars:2,consts:[[3,"formGroup"],["for","enterData"],["type","text","formControlName","initialTime","placeholder","Enter a number here",1,"ml-2","text-center"],[1,"mt-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary","ml-4",2,"margin-left","10px",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2," Enter time limit: "),t.qZA(),t._UZ(3,"input",2),t.TgZ(4,"div",3),t.TgZ(5,"button",4),t.NdJ("click",function(){return i.btnHandler("")}),t._uU(6," Start/Pause "),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.btnHandler("reset")}),t._uU(8," Reset "),t.qZA(),t.qZA(),t.YNc(9,T,2,1,"div",6),t.qZA()),2&e&&(t.Q6J("formGroup",i.deviceForm),t.xp6(9),t.Q6J("ngForOf",i.pauseAt))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,h.sg],styles:[""]}),r})();function S(r,n){if(1&r&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()),2&r){const e=n.$implicit;t.xp6(2),t.Oqu(e)}}let C=(()=>{class r{constructor(e){this.exporterService=e,this.logs=[]}ngOnInit(){this.exporterService.getTimerCondn$.subscribe(e=>{this.currentState=e;const i=this.getDateTime();"start"===this.currentState&&this.logs.push(`Started at ${i}`),"pause"===this.currentState&&this.logs.push(`Paused at ${i}`)})}getDateTime(){let e=new Date,i=e.getFullYear(),a=e.getMonth()+1,c=e.getDate(),u=e.getHours(),p=e.getMinutes(),l=e.getSeconds();1==a.toString().length&&(a="0"+a),1==c.toString().length&&(c="0"+c),1==u.toString().length&&(u="0"+u);var A=u>=12?"pm":"am";return 1==p.toString().length&&(p="0"+p),1==l.toString().length&&(l="0"+l),`${c}-${a}-${i} ${u}:${p}:${l} ${A} `}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-logs"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&t.YNc(0,S,3,1,"div",0),2&e&&t.Q6J("ngForOf",i.logs)},directives:[h.sg],styles:[""]}),r})(),Z=(()=>{class r{constructor(e){this.exporterService=e,this.startCount=0,this.pauseCount=0}ngOnInit(){this.exporterService.getTimerCondn$.subscribe(e=>{this.currentState=e,"start"===this.currentState&&(this.startCount+=1),"pause"===this.currentState&&(this.pauseCount+=1)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-start-pause"]],decls:11,vars:2,consts:[[1,"wrapper"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"h1"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Start"),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"h1"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Pause"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Oqu(i.startCount),t.xp6(5),t.Oqu(i.pauseCount))},styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:15%}"]}),r})(),y=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-fourth-route"]],decls:9,vars:0,consts:[[1,"row"],[1,"column","border","border-primary"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"app-timer"),t.qZA(),t.TgZ(3,"div",1),t._UZ(4,"app-data"),t.qZA(),t.TgZ(5,"div",1),t._UZ(6,"app-logs"),t.qZA(),t.TgZ(7,"div",1),t._UZ(8,"app-start-pause"),t.qZA(),t.qZA())},directives:[f,v,C,Z],styles:['.column[_ngcontent-%COMP%]{float:left;width:45%;padding:10px;margin:5px;min-height:250px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.row[_ngcontent-%COMP%]{overflow-x:scroll}']}),r})();var F=o(6901);const b=[{path:"",component:y}];let x=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[h.ez,s.u5,s.UX,F.Bz.forChild(b)]]}),r})()}}]);